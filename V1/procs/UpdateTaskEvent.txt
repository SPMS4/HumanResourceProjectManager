CREATE DEFINER=`root`@`localhost` PROCEDURE `UpdateTaskEvent`(IN `exTitle` INT, IN `exBacklog` INT, IN `exStartDate` INT, IN `exEndDate` INT, OUT `iCalendarID` INT, IN `exGroupID` INT)
    NO SQL
BEGIN

Select CalendarID into iCalendarID 
From calendar 
INNER JOIN groups on calendar.GroupID = groups.GroupID
WHERE GroupID = exGroupID ; 


  UPDATE taskevents
    SET    
           Title  = exTitle,                    
           StartDate  = exStartDate,
           EndDate = exEndDate,
           Backlog = exBacklog,
           DateLastModified = NOW()
    WHERE CalendarID = iCalendarID;
END